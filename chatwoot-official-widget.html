<!-- OFFICIAL Chatwoot Widget Integration -->
<!-- Based on https://github.com/chatwoot/chatwoot documentation -->

<script>
(function(d,t) {
  var BASE_URL="https://chatwood.superhuman.services";
  var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=BASE_URL+"/packs/js/sdk.js";
  g.defer = true;
  g.async = true;
  s.parentNode.insertBefore(g,s);
  g.onload=function(){
    window.chatwootSDK.run({
      websiteToken: 'vK8J1K7q3xvDcXBnfenqVhaG',
      baseUrl: BASE_URL
    })
  }
})(document,"script");
</script>

<!-- TEMPORARY FALLBACK while SSL is being set up -->
<!-- This creates a simple chat button that opens Chatwoot in a new window -->
<script>
window.addEventListener('DOMContentLoaded', function() {
  // Only add fallback if SDK didn't load
  setTimeout(function() {
    if (!window.chatwootSDK || !document.querySelector('.woot-widget-bubble')) {
      // Create fallback button
      const button = document.createElement('button');
      button.innerHTML = 'ðŸ’¬';
      button.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: #1f93ff;
        color: white;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        z-index: 99999;
        font-size: 28px;
      `;
      
      button.onclick = function() {
        window.open(
          'http://142.93.194.30:3000/widget?website_token=vK8J1K7q3xvDcXBnfenqVhaG',
          'chatwoot',
          'width=400,height=600'
        );
      };
      
      document.body.appendChild(button);
    }
  }, 3000);
});
</script>
